# 5-1 ビュー
### テーブルとビューの違い
- ビュー → データを記憶装置に保存しておらず、SELECT文を保存している
- テーブル → 記憶装置に保存している

        CREATE VIEW ビュー名 (<ビューの列名1>,<ビューの列名2>、、、)
        AS
        <SELECT文>

### 商品テーブルをもとにした例文
        shop=# CREATE VIEW ShohinSum (shohin_bunrui, cnt_shohin)
        shop-# AS
        shop-# SELECT shohin_bunrui, COUNT(*)
        shop-# FROM Shohin
        shop-# GROUP BY shohin_bunrui;

**ASは絶対に省略しないこと**

## ビューを使用する
        shop=# SELECT shohin_bunrui, cnt_shohin
        shop-# FROM ShohinSum;

多段ビューもできるが非推奨

## ビューの制限事項
### ビュー定義ではORDER BY句だけは使用できない  
※行には順序がないことが定められているから
### ビュー定義のSELECT文はいくつかの条件を満たしている場合ビューに対する更新が可能
- SELECT句にDISTINCTが含まれていない
- FROM句に含まれるテーブルが1つだけである
- GROUP BY句を使用していない
- HAVINGを使用していない

**ビューとテーブルの更新は連動しているrため集約されたビューは更新不可能**
        shop=# CREATE VIEW ShohinJim (shohin_id, shohin_mei, shohin_bunrui, hanbai_tanka, shiire_tanka, torokubi)
        shop-# AS
        shop-# SELECT *
        shop-# FROM Shohin
        shop-# WHERE shohin_bunrui = '事務用品';
        CREATE VIEW
        shop=# INSERT INTO ShohinJim VALUES ('0009','印鑑','事務用品',95,10,'2009-11-30');
        INSERT 0 1
        shop=# SELECT *
        shop-# FROM ShohinJim;
