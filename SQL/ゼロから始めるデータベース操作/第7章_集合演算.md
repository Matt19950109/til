# 7-1 テーブルの足し算と引き算

## テーブルの足し算(UNION)

        shop=# SELECT shohin_id, shohin_mei
        shop-# FROM Shohin
        shop-# UNION
        shop-# SELECT shohin_id, shohin_mei
        shop-# FROM Shohin2
        shop-# ORDER BY shohin_id;
         shohin_id |   shohin_mei
        -----------+----------------
         0001      | Tシャツ
         0002      | 穴あけパンチ
         0003      | カッターシャツ
         0004      | 包丁
         0005      | 圧力鍋
         0006      | フォーク
         0007      | おろしがね
         0008      | ボールペン
         0009      | 手袋
         0010      | やかん
   
**UNIONに限らず集合演算しの重複行は排除される**

### 集合演算の条件
- 演算対象のレコード列数は同じであること
- 足し算の対象となるレコードの列のデータ型が一致していること
- SELECT文の指定に制限はないが、ORDER BY句は最後に一つだけ

**重複行も記載したい場合、ALLオプションを使用する**

## テーブルの共通部分(INTERSECT)
- 必ず2つのテーブルを使用し、その共通するレコードを選択する

## レコードの引き算(EXCEPT)
- 2つのテーブルのデータの差分を出す。
**対象のテーブルの前後に応じて結果が異なる**


# 7-2 結合
- 別のテーブルから列をもってきて列を増やす操作

## 内部結合(INNER JOIN)

        shop=# SELECT TS.tenpo_id, TS.tenpo_mei, TS.shohin_id, S.shohin_mei, S.hanbai_tanka
        shop-# FROM TenpoShohin AS TS INNER JOIN Shohin AS S
        shop-# ON TS.shohin_id = S.shohin_ID;
         tenpo_id | tenpo_mei | shohin_id |   shohin_mei   | hanbai_tanka
        ----------+-----------+-----------+----------------+--------------
         000A     | 東京      | 0001      | Tシャツ        |         1000
         000A     | 東京      | 0002      | 穴あけパンチ   |          500
         000A     | 東京      | 0003      | カッターシャツ |         4000
         000B     | 名古屋    | 0002      | 穴あけパンチ   |          500
         000B     | 名古屋    | 0003      | カッターシャツ |         4000
         000B     | 名古屋    | 0004      | 包丁           |         3000
         000B     | 名古屋    | 0006      | フォーク       |          500
         000B     | 名古屋    | 0007      | おろしがね     |          880
         000C     | 大阪      | 0003      | カッターシャツ |         4000
         000C     | 大阪      | 0004      | 包丁           |         3000
         000C     | 大阪      | 0006      | フォーク       |          500
         000C     | 大阪      | 0007      | おろしがね     |          880
         000D     | 福岡      | 0001      | Tシャツ        |         1000
        (13 行)

### ON句
- 2つのテーブルを結びつける列を指定する。内部結合を実施するために指定が必要
